<!DOCTYPE html>
<html lang="en-us">
    <head>
        <title>EPD Earth Signals Viewer</title>
        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link type="text/css" rel="stylesheet" href="styles.css">
        <link rel="shortcut icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    </head>

    <body>
        <!-- Hidden -->
        <audio id="audioStream" preload="none" crossorigin src=""></audio>

        <!-- Controls area -->
        <div id="controls">
            <!-- Source row -->
            <div style="display:block; width:100%">
                <!-- feed select area -->
                <div style="float:left">
                    &nbsp;
                    <select id="sourceSelect">
                        <option value="stream">audio stream</option>
                        <option value="local">local file</option>
                    </select>

                    <!-- stream info (when selected) -->
                    <div id="feedStream" style="display:inline-block">
                        &nbsp;url
                        <input type="url" id="streamURL" value="" size="50" />
                    </div>

                    <!-- local file info (when selected) -->
                    <div id="feedFileLocal" style="display:none">
                        &nbsp;<input type="file" id="fileLocal" accept="audio/*" />
                    </div>
                </div>

                <!-- play controls -->
                <div style="float:left">
                    &nbsp;
                    <button class="mediaButton" type="button" id="playButton">&#x23F5;</button>
                    <button class="mediaButton" type="button" id="pauseButton" disabled>&#x23F8;</button>
                    <button class="mediaButton" type="button" id="stopButton" disabled>&#x23F9;</button>
                </div>
            </div>

            <!-- Parameters row -->
            <div style="float:left; display:block; width:100%">
                &nbsp;display
                <input type="text" id="displayFreqMin" value="" size="5" /> Hz to
                <input type="text" id="displayFreqMax" value="" size="5" /> Hz

                &nbsp;FFT cross-sample smoothing
                <select id="smoothingSelect" disabled>
                    <option value="0.0">0.0 (none)</option>
                    <option value="0.1">0.1</option>
                    <option value="0.2">0.2</option>
                    <option value="0.3">0.3</option>
                    <option value="0.4">0.4</option>
                    <option value="0.5">0.5</option>
                    <option value="0.6">0.6</option>
                    <option value="0.7">0.7</option>
                    <option value="0.8">0.8</option>
                    <option value="0.9">0.9</option>
                    <option value="0.99">0.99 (lots)</option>
                </select>
                &nbsp;FFT bins
                <select id="fftBinsSelect" disabled>
                    <option value="16">16</option>
                    <option value="32">32</option>
                    <option value="64">64</option>
                    <option value="128">128</option>
                    <option value="256">256</option>
                    <option value="512">512</option>
                    <option selected value="1024">1024</option>
                </select>
                &nbsp;min
                <input type="text" id="minDb" value="" size=5 title="100 <= min < max" disabled /> dB
                &nbsp;max
                <input type="text" id="maxDb" value="" size=5 title="min < max <= -10" disabled /> dB
                &nbsp;cursor
                <input type="text" value="" id="cursorInfo" readonly size="8" />

                &nbsp;Denem: window
                <input type="text" value="" id="denemWindow" size="8" />
                &nbsp;deviation
                <input type="text" value="" id="denemDeviationAvgMax" size="8" /> dB
                &nbsp;min
                <input type="text" value="" id="denemAvgMin" size="8" /> dB
            </div>
        </div>

        <br />
        <canvas id="spectrum" height="512"></canvas>
        <canvas id="waterfall" height="512"></canvas>

        <script type="module" src="./fft_js/fft.js"></script>
        <script type="module" src="index.js"></script>
    </body>
</html>
